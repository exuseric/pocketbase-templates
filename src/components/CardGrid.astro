---
import { getImageUrl } from "../pb";
import { Image } from "astro:assets";

const { cards } = Astro.props;
---

<div class="py-8 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl lg:py-8">
    <div class="grid gap-6 row-gap-5 md:grid-cols-2 lg:grid-cols-3">
        {
            //@ts-ignore
            cards &&
                cards.map((card) => (
                    <article class="border rounded overflow-hidden bg-white">
                        {card.CardImage && (
                            <Image
                                src={getImageUrl({
                                    collection: card?.expand?.CardImage,
                                    filename: card?.expand?.CardImage?.Image,
                                })}
                                widths={[240, 400, 600, 800, 1000]}
                                sizes={`(max-width: 360px) 240px, (max-width: 500px) 400px, (max-width: 768px) 600px, (max-width: 1024px) 800px, 1000px`}
                                inferSize
                                alt={card?.expand?.CardImage?.ImageAlt}
                                loading="lazy"
                                decoding="async"
                                class="object-cover w-full h-64 lg:h-48 xl:h-60"
                            />
                        )}
                        <div class="p-4">
                            <h4 class="text-lg m-0 mb-2 font-bold leading-none sm:text-xl">
                                {card.CardTitle}
                            </h4>
                            {card.CardBody && <slot set:html={card.CardBody} />}
                        </div>
                    </article>
                ))
        }
    </div>
</div>
